{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\welid\\\\Desktop\\\\react\\\\movies\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\welid\\\\Desktop\\\\react\\\\movies\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import CardsList from\"./card\";import Input from\"./input\";import MainImage from\"./mainimage\";import\"../app.css\";var App=function App(){var apiKey=\"fac34116c639f3e75cd5205251be421c\";var api=\"https://api.themoviedb.org/3/search/movie?api_key=\".concat(apiKey,\"&language=en-US&page=1&include_adult=false&genre_id=28\");var latestMovies=\"https://api.themoviedb.org/3/movie/now_playing?api_key=\".concat(apiKey,\"&language=en-US&page=1\");var _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var _useState3=useState(\"Load More...\"),_useState4=_slicedToArray(_useState3,2),btn=_useState4[0],setBtn=_useState4[1];var _useState5=useState(\"Latest Movies\"),_useState6=_slicedToArray(_useState5,2),lm=_useState6[0],setLm=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),topImage=_useState8[0],setTopImage=_useState8[1];var _useState9=useState({query:\"\",result:[]}),_useState10=_slicedToArray(_useState9,2),movies=_useState10[0],setMovies=_useState10[1];useEffect(function(){axios(latestMovies).then(function(_ref){var data=_ref.data;setTopImage(data.results.slice(0,5));});},[latestMovies]);useEffect(function(){axios(latestMovies).then(function(_ref2){var data=_ref2.data;var result=data.results;setMovies(function(prevState){return _objectSpread({},prevState,{result:result});});});},[latestMovies]);var handle=function handle(e){var s=e.target.value;setMovies(function(prevState){return _objectSpread({},prevState,{query:s});});};var search=function search(e){axios(api+\"&query=\"+movies.query).then(function(_ref3){var data=_ref3.data;var result=data.results;setMovies(function(prevState){return _objectSpread({},prevState,{result:result});});});e.preventDefault();setLm(\"\");setBtn();};useEffect(function(){var newPage=latestMovies;fetchNewPage(newPage);},[latestMovies]);var fetchNewPage=function fetchNewPage(path){axios(path).then(function(_ref4){var data=_ref4.data;var result=data.results;setMovies(function(prevState){return _objectSpread({},prevState,{result:result});});setCurrentPage(data.page);});};var load=function load(){var newPage=\"https://api.themoviedb.org/3/movie/now_playing?api_key=\".concat(apiKey,\"&language=en-US&page=\").concat(currentPage+1);fetchNewPage(newPage);};return React.createElement(\"div\",null,React.createElement(\"div\",{className:\"top\",style:{width:\"100%\"}},React.createElement(MainImage,{key:topImage.id,topImage:topImage})),React.createElement(\"div\",{className:\"header\"},React.createElement(\"div\",{className:\"row\",style:{justifyContent:\"space-evenly\",alignItems:\"center\",width:\"100%\"}},React.createElement(\"h1\",null,\"Quarantine Movies\"),React.createElement(Input,{handle:handle,search:search}))),React.createElement(\"div\",{className:\"\"},React.createElement(\"div\",{className:\"latestM\"},React.createElement(\"p\",{className:\"latest\"},lm)),React.createElement(CardsList,{key:movies.id,genre:movies.genre,results:movies.result}),React.createElement(\"div\",{className:\"loadbutton\"},React.createElement(\"button\",{className:\"loadmore\",onClick:load},btn))));};export default App;","map":{"version":3,"sources":["C:/Users/welid/Desktop/react/movies/src/comp/app.js"],"names":["React","useState","useEffect","axios","CardsList","Input","MainImage","App","apiKey","api","latestMovies","currentPage","setCurrentPage","btn","setBtn","lm","setLm","topImage","setTopImage","query","result","movies","setMovies","then","data","results","slice","prevState","handle","e","s","target","value","search","preventDefault","newPage","fetchNewPage","path","page","load","width","id","justifyContent","alignItems","genre"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport CardsList from \"./card\";\nimport Input from \"./input\";\nimport MainImage from \"./mainimage\";\nimport \"../app.css\";\n\nconst App = () => {\n  const apiKey = \"fac34116c639f3e75cd5205251be421c\";\n  const api = `https://api.themoviedb.org/3/search/movie?api_key=${apiKey}&language=en-US&page=1&include_adult=false&genre_id=28`;\n  const latestMovies = `https://api.themoviedb.org/3/movie/now_playing?api_key=${apiKey}&language=en-US&page=1`;\n  const [currentPage, setCurrentPage] = useState(1);\n  const [btn, setBtn] = useState(\"Load More...\");\n  const [lm, setLm] = useState(\"Latest Movies\");\n  const [topImage, setTopImage] = useState([]);\n  const [movies, setMovies] = useState({\n    query: \"\",\n    result: [],\n  });\n\n  useEffect(() => {\n    axios(latestMovies).then(({ data }) => {\n      setTopImage(data.results.slice(0, 5));\n    });\n  }, [latestMovies]);\n\n  useEffect(() => {\n    axios(latestMovies).then(({ data }) => {\n      let result = data.results;\n      setMovies((prevState) => {\n        return { ...prevState, result: result };\n      });\n    });\n  }, [latestMovies]);\n\n  const handle = (e) => {\n    let s = e.target.value;\n    setMovies((prevState) => {\n      return { ...prevState, query: s };\n    });\n  };\n\n  const search = (e) => {\n    axios(api + `&query=` + movies.query).then(({ data }) => {\n      let result = data.results;\n      setMovies((prevState) => {\n        return { ...prevState, result: result };\n      });\n    });\n    e.preventDefault();\n    setLm(\"\");\n    setBtn();\n  };\n\n  useEffect(() => {\n    const newPage = latestMovies;\n    fetchNewPage(newPage);\n  }, [latestMovies]);\n\n  const fetchNewPage = (path) => {\n    axios(path).then(({ data }) => {\n      let result = data.results;\n      setMovies((prevState) => {\n        return { ...prevState, result: result };\n      });\n      setCurrentPage(data.page);\n    });\n  };\n\n  const load = () => {\n    const newPage = `https://api.themoviedb.org/3/movie/now_playing?api_key=${apiKey}&language=en-US&page=${currentPage +\n      1}`;\n    fetchNewPage(newPage);\n  };\n\n  return (\n    <div>\n      <div className=\"top\" style={{ width: \"100%\" }}>\n        <MainImage key={topImage.id} topImage={topImage} />\n      </div>\n      <div className=\"header\">\n        <div\n          className=\"row\"\n          style={{\n            justifyContent: \"space-evenly\",\n            alignItems: \"center\",\n            width: \"100%\",\n          }}\n        >\n          <h1>Quarantine Movies</h1>\n          <Input handle={handle} search={search} />\n        </div>\n      </div>\n\n      <div className=\"\">\n        <div className=\"latestM\">\n          <p className=\"latest\">{lm}</p>\n        </div>\n        <CardsList\n          key={movies.id}\n          genre={movies.genre}\n          results={movies.result}\n        />\n\n        <div className=\"loadbutton\">\n          <button className=\"loadmore\" onClick={load}>\n            {btn}\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}